{"ast":null,"code":"import { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class CartService {\n  constructor(http) {\n    this.http = http;\n  }\n  addToCart(product) {\n    return this.http.post('http://localhost:5001/api/cart', {\n      productId: product.id,\n      product,\n      quantity: 1\n    }).pipe(catchError(err => {\n      console.error(err);\n      return throwError(() => err);\n    }));\n  }\n  getCartItems() {\n    return this.http.get('http://localhost:5001/api/cart').pipe(catchError(err => {\n      console.error();\n      return throwError(() => err);\n    }));\n  }\n  removeFromCart(id) {\n    return this.http.delete(`http://localhost:5001/api/cart/${id}`).pipe(catchError(err => {\n      console.error();\n      return throwError(() => err);\n    }));\n  }\n  updateQuantity(id, newQuantity) {\n    return this.http.put(`http://localhost:5001/api/cart/${id}`, {\n      newQuantity\n    }).pipe(catchError(err => {\n      console.error();\n      return throwError(() => err);\n    }));\n  }\n}\nCartService.ɵfac = function CartService_Factory(t) {\n  return new (t || CartService)(i0.ɵɵinject(i1.HttpClient));\n};\nCartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CartService,\n  factory: CartService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAEA,SAAoBA,UAAU,QAAO,MAAM;AAC3C,SAAQC,UAAU,QAAO,gBAAgB;;;AAOzC,OAAM,MAAOC,WAAW;EAEtBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;EACxB;EAEAC,SAAS,CAACC,OAAgB;IACxB,OAAO,IAAI,CAACF,IAAI,CAACG,IAAI,CAAO,gCAAgC,EAAE;MAACC,SAAS,EAAEF,OAAO,CAACG,EAAE;MAAEH,OAAO;MAAEI,QAAQ,EAAE;IAAC,CAAC,CAAC,CAACC,IAAI,CAC/GV,UAAU,CAACW,GAAG,IAAG;MACfC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClB,OAAOZ,UAAU,CAAC,MAAMY,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAEAG,YAAY;IACV,OAAO,IAAI,CAACX,IAAI,CAACY,GAAG,CAAa,gCAAgC,CAAC,CAACL,IAAI,CACrEV,UAAU,CAACW,GAAG,IAAG;MACfC,OAAO,CAACC,KAAK,EAAE;MACf,OAAOd,UAAU,CAAC,MAAMY,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAEAK,cAAc,CAACR,EAAU;IACvB,OAAO,IAAI,CAACL,IAAI,CAACc,MAAM,CAAO,kCAAkCT,EAAE,EAAE,CAAC,CAACE,IAAI,CACxEV,UAAU,CAACW,GAAG,IAAG;MACfC,OAAO,CAACC,KAAK,EAAE;MACf,OAAOd,UAAU,CAAC,MAAMY,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAEAO,cAAc,CAACV,EAAU,EAAEW,WAAmB;IAC5C,OAAO,IAAI,CAAChB,IAAI,CAACiB,GAAG,CAAO,kCAAkCZ,EAAE,EAAE,EAAE;MAACW;IAAW,CAAC,CAAC,CAACT,IAAI,CACpFV,UAAU,CAACW,GAAG,IAAG;MACfC,OAAO,CAACC,KAAK,EAAE;MACf,OAAOd,UAAU,CAAC,MAAMY,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;;AAvCWV,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAoB,SAAXpB,WAAW;EAAAqB,YAFV;AAAM","names":["throwError","catchError","CartService","constructor","http","addToCart","product","post","productId","id","quantity","pipe","err","console","error","getCartItems","get","removeFromCart","delete","updateQuantity","newQuantity","put","factory","providedIn"],"sourceRoot":"","sources":["/Users/arsendeputat/RiderProjects/ECommerceApp/ECommerceApp/ClientApp/src/app/services/cart.service.ts"],"sourcesContent":["import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable, throwError} from 'rxjs';\nimport {catchError} from 'rxjs/operators';\nimport {CartItem} from \"../models/cart.model\";\nimport {Product} from \"../models/product.model\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  addToCart(product: Product): Observable<void> {\n    return this.http.post<void>('http://localhost:5001/api/cart', {productId: product.id, product, quantity: 1}).pipe(\n      catchError(err => {\n        console.error(err);\n        return throwError(() => err);\n      })\n    );\n  }\n\n  getCartItems(): Observable<CartItem[]> {\n    return this.http.get<CartItem[]>('http://localhost:5001/api/cart').pipe(\n      catchError(err => {\n        console.error();\n        return throwError(() => err);\n      })\n    );\n  }\n\n  removeFromCart(id: number): Observable<void> {\n    return this.http.delete<void>(`http://localhost:5001/api/cart/${id}`).pipe(\n      catchError(err => {\n        console.error();\n        return throwError(() => err);\n      })\n    );\n  }\n\n  updateQuantity(id: number, newQuantity: number): Observable<void> {\n    return this.http.put<void>(`http://localhost:5001/api/cart/${id}`, {newQuantity}).pipe(\n      catchError(err => {\n        console.error();\n        return throwError(() => err);\n      })\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}